!function(a){"use strict";var b=function(a,b){this.from=a,this.to=[],b&&this.to.push(b)};a.module("template-prefetch",["ui.router"]).provider("TemplatePrefetch",[function(){var a={},c=function(c){var e=a[c]||new b(c);return{to:d(e)}},d=function(b){return function(e){return b.to.push(e),a[b.from]||(a[b.from]=b),{to:d(b),from:c}}};this.$get=["$rootScope","$state","$templateCache","$http",function(b,c,d,e){function f(a){for(var b,c=/ng-include=('"|"')(.+?)('"|"')/g;b=c.exec(a);){var d=b[2];e.get(d).success(h(d))}}var g=function(b){var d=a[b];if(d)for(var f=0;f<d.to.length;f++){var g,i=d.to[f],j=c.get(i);if(!j.templateUrl&&j.views)for(var k in j.views){var l=j.views[k];l.templateUrl&&(g=l.templateUrl,e.get(g).success(h(g)))}else g=j.templateUrl,e.get(g).success(h(g))}},h=function(a){return function(b){f(b),d.put(a,b)}};return g(c.current.name),b.$on("$stateChangeSuccess",function(a,b){g(b.name)}),{}}],this.from=c,this.getRoutesFor=function(b){return a[b].to}}])}(angular);